# Esprit作成大会運営システム(仮) 要求仕様書  
Ver0.2 作成者:陶山


## 機能一覧

* K01.トップ画面
* K02.マイページ
* K03.大会登録
* K03.大会管理
* K05.参加者管理

### K01.トップ画面
システム利用者が最初に訪れる画面。大会の新規登録や、任意の大会の管理・参加登録を行うことが可能。
 
#### K01_1.トップページ
利用規約、使い方、大会新規登録、大会管理への遷移、コンタクトの表示

1. 「利用規約」ボタン押下によって「K01_2.利用規約画面」に遷移
1. 非ログイン時、「ログイン」ボタン押下によってTwitter認証
1. ログイン中、「ログアウト」ボタン押下によってTwitter連携解除
1. 「このシステムの使い方」ボタン押下によって「K01_3.使い方画面」に遷移
1. 「大会新規登録」ボタン押下時
   - 非ログインの場合: Twitter認証
   - ログイン中の場合: 「K03_1.大会新規登録画面」に遷移
1. ログイン中の場合、「マイページへ」ボタン押下によって「K02_1.マイページ」に遷移
1. 大会一覧から各「K04_1.大会ページ」に遷移
1. 過去の大会一覧から「過去大会ページ」に遷移
1. コンタクトの表示(遷移なし) 

#### K01_2.利用規約画面
利用規約の表示。

. 「トップページへ」ボタンを押下すると、「K01_1.トップページ」に遷移
 
#### K01_3.使い方画面 
システムの使い方の表示。

1. 「トップページへ」ボタンを押下すると、「K01_1.トップページ」に遷移

### K02.マイページ
ログイン中に表示されるマイページ。参加中の大会などを管理する。

#### K02_1.マイページ
ログイン中に表示されるマイページ。

1. 連携中のTwitterアカウントを表示
1. 参加中の大会を表示
1. 運営中の大会を表示
1. 各大会ページリンク押下によって各「K04_1.大会ページ」に遷移

### K03.大会登録
大会の新規登録を行う。 
 
#### K03_1.大会新規登録画面
新たに大会を作成するときに使用。

1. 大会名を登録(入力されていなければエラー)
1. 運営者を登録(入力されていなければエラー)(Twitterアカウント必須)
1. 大会概要を登録(自由テキスト)(任意)
1. 大会ルールを選択(トーナメント、リーグ戦、スイスドローの3つからプルダウンで選択し、決勝トーナメント参加数を8、16からプルダウンで選択)（リーグ戦、スイスドローは決勝トーナメント進出数をプルダウンで選択）(選択されていなければエラー)
	- トーナメント : 1位が決まるまでトーナメント
	- リーグ戦 : 決勝トーナメント進出者をリーグ戦で決定
	- スイスドロー : 決勝トーナメント進出者をスイスドローで決定
1. 参加人数上限を登録(任意)(半角数字じゃなければエラー)
1. 大会実施日を登録(プルダウン)(選択されていなければエラー)
1. 参加登録締め切り日時を登録(プルダウン)(初期値は6と同じ日時)
1. 運営コミュニティを登録(任意)
1. 「大会新規登録」ボタン押下によって情報を保持したまま「K03_2.大会登録確認画面」に遷移(入力チェック)

#### K03_2.大会登録確認画面
入力確認の画面。

1. 「K03_1.大会新規登録画面」で入力した情報を表示
1. 「修正する」ボタン押下によって情報を保持したまま「K03_1.大会新規登録画面」に遷移
1. 「登録する」ボタン押下によって「K03_3.大会登録完了通知画面」に遷移

#### K03_3.大会登録完了通知画面
大会登録完了の通知。

1. 登録した大会のURLを通知。
1. 「Twitterでシェアする」ボタン押下によってTwitterでつぶやく
1. 「大会管理画面に移動する」押下によって新たにできた「K04_1.大会ページ」に遷移


### K04.大会管理
すでに登録されている大会の管理を行う。
 
#### K04_1.大会ページ
大会新規登録によって発行されるページ。
 
1. 大会名、大会実施日、登録締め切り日時、運営者(Twitterアカウントリンク)、運営コミュニティ(リンク)、大会概要、大会ルール、参加人数上限を表示(遷移なし)
1. （運営者であれば）「運営者管理メニュー」ボタン押下によって「K04_2.運営者管理画面」に遷移
1. 登録締め切り日時以降、「トーナメント表作成（抽選）」ボタン押下によって「トーナメント表作成画面」に遷移
 -「トーナメント表作成画面」の「トーナメント表決定」ボタン押下によって「大会ページ」にトーナメント表へのリンクを表示
(「トーナメント表ダウンロード」ボタン押下によってPDFダウンロード(登録締め切り日時以降))
1. 「参加登録」、「参加者メニュー」、「管理者メニュー」を表示する
	- 非ログインの場合:「参加登録」ボタンを表示
	- ログイン中の場合:
		- 大会に参加中の場合:「参加者メニュー」ボタンを表示
		- 大会に参加中でない場合:「参加登録」ボタンを表示
		- 大会を運営中の場合: 「運営者メニュー」ボタンを表示
1. 「参加者メニュー」ボタン押下によって「参加者メニュー画面」に遷移
1. 「参加登録」ボタン押下によって
	- 
	-
1. 「運営者メニュー」ボタン押下によって
 
#### K04_2.運営者管理画面
運営が大会ルールや結果などを修正するための画面。

1. 「大会情報修正」ボタン押下によって「K04_3.大会情報修正画面」に遷移
1. 「結果登録・修正」ボタン押下によって「K04_5.結果登録・修正画面」に遷移
1. 「大会終了」ボタン押下によって「過去大会ページ」を生成

#### K04_3.大会情報修正画面
運営が大会情報を修正するための画面。

1. フォームに大会名、大会実施日、登録締め切り日時、運営者、運営コミュニティ(リンク？)、大会概要、大会ルール、参加人数上限を入力し修正
1. 各入力をチェックし、参加上限人数が現在の登録者数を下回っていた場合及び日時が現在の日時より前だった場合エラー
1. 「修正を適用」ボタン押下によって内容を修正、トップページにも反映し、「K04_4.大会情報修正結果通知画面」に遷移
1. 「キャンセル」ボタン押下によって「K03_2.運営者管理画面」に遷移

#### K04_4.大会情報修正結果通知画面
修正結果を通知する。

1. (修正内容を表示して、)「大会情報を修正しました」と表示
1. 「運営者管理画面へ」ボタン押下によって「K04_2.運営者管理画面」に遷移
1. 「大会ページへ」ボタン押下によって「K04_1.大会ページ」に遷移

#### K04_5.結果登録・修正画面
運営が結果登録・修正を行うための画面。

1. 大会トーナメント表に振ってある対戦番号から指定
1. 対戦番号、勝者、結果を入力
1. 「登録・修正」ボタン押下によって「K04_6.結果登録・修正結果通知画面」に遷移(対戦番号、勝者、結果の入力チェック)
1. 「キャンセル」ボタン押下によって「K03_2.運営者管理画面」に遷移

#### K04_6.結果登録・修正結果通知画面
登録・修正結果を通知する画面。

1. (登録・修正内容を表示して、)「結果を登録しました」と表示
1. 「続けて結果を登録する」ボタン押下によって「K03_5.結果登録・修正画面」に遷移
1. 「運営者管理画面へ」ボタン押下によって「K03_2.運営者管理画面」に遷移
1. 「大会ページへ」ボタン押下によって「K03_1.大会ページ」に遷移

### K05.参加者管理
大会の参加者が参加登録、結果の登録を行う。

#### K05_1.参加登録画面
参加登録を行うための画面。

1. 登録チーム名、Twitterアカウント、NNIDを入力
1. 「参加登録を行う」ボタン押下によって「K05_2.参加登録結果通知画面」に遷移(チーム名被りをチェック)
1. 「キャンセル」ボタン押下によって「K03_1.大会ページ」に遷移

#### K05_2.参加登録結果通知画面
登録結果を通知する画面。

1. 「参加登録が完了しました」と表示
1. 「参加者メニューへ」ボタン押下によって「K05_3.参加者メニュー画面」に遷移
1. 「大会ページへ」ボタン押下によって「K03_1.大会ページ」に遷移

#### K05_3.参加者メニュー画面
参加者が情報変更、結果登録を行う画面。

1. 「登録情報変更」ボタン押下によって「K05_4.登録情報修正画面」に遷移
1. 「自ブロックトーナメント表ダウンロード」ボタン押下によってPDFダウンロード(登録締め切り日時以降)
1. 次の対戦相手のチーム名、Twitterアカウント、NNIDの表示(登録締め切り日時以降)
1. 「結果登録」ボタン押下によって「K05_7.参加者結果登録・修正画面」に遷移(登録締め切り日時以降)

#### K05_4.登録情報修正画面
 参加者が登録情報を修正するための画面。

1. フォームに登録チーム名、Twitterアカウント、NNIDを入力し修正
1. 「修正を適用」ボタン押下によって内容を修正、「K05_5.登録情報修正結果通知画面」に遷移
1. 「キャンセル」ボタン押下によって「K05_4.参加者メニュー画面」に遷移

#### K05_5.登録情報修正結果通知画面
修正結果を通知する。

1. (修正内容を表示して、)「登録情報を修正しました」と表示
1. 「参加者メニュー画面へ」ボタン押下によって「K05_3.参加者メニュー画面」に遷移
1. 「大会ページへ」ボタン押下によって「K04_1.大会ページ」に遷移

#### K05_6.参加者結果登録・修正画面
参加者が結果を登録する画面。

1. 対戦相手を表示
1. 結果を入力(プルダウン？)
1. 「結果を登録・修正する」ボタン押下によって「K05_7.参加者結果登録・修正結果通知画面」に遷移(入力チェック)
1. 「キャンセル」ボタン押下によって「K05_4.参加者メニュー画面」に遷移

#### K05_7.参加者結果登録・修正結果通知画面
登録・修正結果を通知する画面。

1. (登録・修正結果を表示して、)「結果を登録しました」と表示
1. 「参加者メニュー画面へ」ボタン押下によって、「K05_4.参加者メニュー画面」に遷移
1. 「大会ページへ」ボタン押下によって、「K04_1.大会ページ」に遷移


== README

This README would normally document whatever steps are necessary to get the
application up and running.

Things you may want to cover:

* Ruby version

* System dependencies

* Configuration

* Database creation

* Database initialization

* How to run the test suite

* Services (job queues, cache servers, search engines, etc.)

* Deployment instructions

* ...


Please feel free to use a different markup language if you do not plan to run
<tt>rake doc:app</tt>.
